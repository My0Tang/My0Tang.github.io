<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>子域名收集记录</title>
      <link href="/2019/04/04/%E5%AD%90%E5%9F%9F%E5%90%8D%E6%94%B6%E9%9B%86%E8%AE%B0%E5%BD%95-1/"/>
      <url>/2019/04/04/%E5%AD%90%E5%9F%9F%E5%90%8D%E6%94%B6%E9%9B%86%E8%AE%B0%E5%BD%95-1/</url>
      
        <content type="html"><![CDATA[<p>在渗透测试中，信息搜集能力的差距，不明显，也最明显</p><p>在对目标网络进行渗透时，除了收集端口、域名、对外提供服务等信息外，其子域名信息收集是非常重要的一步，相对主站，分站的安全防范会弱一些，因此通过收集子域名信息来进行渗透是目前常见的一种手法。子域名信息收集可以通过手工，也可以通过工具，还可以通过普通及漏洞搜索引擎来进行分析。在挖SRC漏洞时，子域名信息的收集至关重要！ </p><h1 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h1><p>工具:<a href="https://github.com/bit4woo/domain_hunter" target="_blank" rel="noopener">Burp Suite Extender</a></p><p><img src="/images/子域名收集/12.jpg" alt></p><h1 id="反查whois"><a href="#反查whois" class="headerlink" title="反查whois"></a>反查whois</h1><p>工具：站长工具</p><p>1 查询whois <a href="http://whois.chinaz.com/sogou.com" target="_blank" rel="noopener">http://whois.chinaz.com/sogou.com</a><br><img src="/images/子域名收集/1.jpg" alt><br>2 反查whois <a href="http://whois.chinaz.com/reverse?host=domainmaster@sogoucom.&amp;ddlSearchMode=1" target="_blank" rel="noopener">http://whois.chinaz.com/reverse?host=domainmaster@sogoucom.&amp;ddlSearchMode=1</a> 可以通过邮箱反查，也可以通过联系电话反查，但是由于各种原因(因为我懒，所以没去找联系邮箱，联系电话真实的域名)，所以就拿这个域名注册商做例子了<br><img src="/images/子域名收集/2.jpg" alt></p><h1 id="通过备案反查"><a href="#通过备案反查" class="headerlink" title="通过备案反查"></a>通过备案反查</h1><ol><li>通过 <a href="http://icp.chinaz.com/www.sougou.com" target="_blank" rel="noopener">http://icp.chinaz.com/www.sougou.com</a> 查询网站的备案<br><img src="/images/子域名收集/3.jpg" alt></li><li><a href="http://icp.chinaz.com/%E4%BA%ACICP%E5%A4%8711001839%E5%8F%B7" target="_blank" rel="noopener">http://icp.chinaz.com/%E4%BA%ACICP%E5%A4%8711001839%E5%8F%B7</a><br><img src="/images/子域名收集/4.jpg" alt><br>ps:还可以通过主办单位去获取子域名</li></ol><h1 id="通过搜索引擎高级语法"><a href="#通过搜索引擎高级语法" class="headerlink" title="通过搜索引擎高级语法"></a>通过搜索引擎高级语法</h1><p>搜索推荐工具：<a href="https://github.com/laramies/theHarvester" target="_blank" rel="noopener">theHarvester</a>   <a href="https://github.com/aboul3la/Sublist3r" target="_blank" rel="noopener">Sublist3r</a></p><p>Sublist3r</p><p>Sublist3r是一个python版工具，其设计原理是基于通过使用搜索引擎，从而对站点子域名进行列举。</p><p>在应用上，它可以帮助渗透测试人员以及漏洞检测人员针对他们的目标域名收集以及获取其子域名。Sublist3r目前支持以下搜索引擎：Google, Yahoo, Bing, 百度以及Ask，而未来将支持更多的搜索引擎。目前，Sublist3r同样也通过Netcraft以及DNSdumpster获取子域名。</p><p>而子域名爆破工具subbrute也被融入到Sublist3r中，主要是通过利用bruteforce强大的字典来获取更多子域名。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~/Sublist3r# python3 sublist3r.py --help</span><br><span class="line">usage: sublist3r.py [-h] -d DOMAIN [-b [BRUTEFORCE]] [-p PORTS] [-v [VERBOSE]]</span><br><span class="line">                    [-t THREADS] [-e ENGINES] [-o OUTPUT]</span><br><span class="line"></span><br><span class="line">OPTIONS:</span><br><span class="line">  -h, --help            show this help message and exit</span><br><span class="line">  -d DOMAIN, --domain DOMAIN</span><br><span class="line">                        Domain name to enumerate it&apos;s subdomains</span><br><span class="line">  -b [BRUTEFORCE], --bruteforce [BRUTEFORCE]</span><br><span class="line">                        Enable the subbrute bruteforce module</span><br><span class="line">  -p PORTS, --ports PORTS</span><br><span class="line">                        Scan the found subdomains against specified tcp ports</span><br><span class="line">  -v [VERBOSE], --verbose [VERBOSE]</span><br><span class="line">                        Enable Verbosity and display results in realtime</span><br><span class="line">  -t THREADS, --threads THREADS</span><br><span class="line">                        Number of threads to use for subbrute bruteforce</span><br><span class="line">  -e ENGINES, --engines ENGINES</span><br><span class="line">                        Specify a comma-separated list of search engines</span><br><span class="line">  -o OUTPUT, --output OUTPUT</span><br><span class="line">                        Save the results to text file</span><br><span class="line"></span><br><span class="line">Example: python sublist3r.py -d google.com</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">－d：枚举指定域名的子域名</span><br><span class="line">－b：使用subbrute模块</span><br><span class="line">－v：实时列举搜索结果</span><br><span class="line">－t：设置使用subbrute暴力破解的线程数</span><br><span class="line">－o：将结果保存为文本文件</span><br><span class="line">－h：帮助</span><br></pre></td></tr></table></figure><p>例子:python3 sublist3r.py -d sogou.com -b -t 50 -p 80,443,8080 -v</p><p>TheHarvester能够收集电子邮件账号、用户名、主机名和子域名等信息。它通过Google、Bing、PGP、LinkedIn、Baidu、Yandex、People123、Jigsaw、Shodan等公开资源整理收集这些信息。这些信息将在后期的渗透测试阶段发挥巨大的作用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~# theharvester -h</span><br><span class="line"></span><br><span class="line">*******************************************************************</span><br><span class="line">*                                                                 *</span><br><span class="line">* | |_| |__   ___    /\  /\__ _ _ ____   _____  ___| |_ ___ _ __  *</span><br><span class="line">* | __| &apos;_ \ / _ \  / /_/ / _` | &apos;__\ \ / / _ \/ __| __/ _ \ &apos;__| *</span><br><span class="line">* | |_| | | |  __/ / __  / (_| | |   \ V /  __/\__ \ ||  __/ |    *</span><br><span class="line">*  \__|_| |_|\___| \/ /_/ \__,_|_|    \_/ \___||___/\__\___|_|    *</span><br><span class="line">*                                                                 *</span><br><span class="line">* TheHarvester Ver. 2.6                                           *</span><br><span class="line">* Coded by Christian Martorella                                   *</span><br><span class="line">* Edge-Security Research                                          *</span><br><span class="line">* cmartorella@edge-security.com                                   *</span><br><span class="line">*******************************************************************</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Usage: theharvester options </span><br><span class="line"></span><br><span class="line">       -d: Domain to search or company name #要搜索的域名</span><br><span class="line">       -b: data source: google, googleCSE, bing, bingapi, pgp #指定搜索引擎或社交媒体</span><br><span class="line">                        linkedin, google-profiles, people123, jigsaw, </span><br><span class="line">                        twitter, googleplus, all</span><br><span class="line"></span><br><span class="line">       -s: Start in result number X (default: 0)</span><br><span class="line">       -v: Verify host name via dns resolution and search for virtual hosts #通过DNS解析验证主机名并搜索虚拟主机</span><br><span class="line">       -f: Save the results into an HTML and XML file                          #保存文件</span><br><span class="line">       -n: Perform a DNS reverse query on all ranges discovered #对发现的所有范围执行DNS反向查询</span><br><span class="line">       -c: Perform a DNS brute force for the domain name</span><br><span class="line">       -t: Perform a DNS TLD expansion discovery</span><br><span class="line">       -e: Use this DNS server</span><br><span class="line">       -l: Limit the number of results to work with(bing goes from 50 to 50 results,#限制搜索结果数，默认每次并发为50</span><br><span class="line">       -h: use SHODAN database to query discovered hosts</span><br><span class="line">            google 100 to 100, and pgp doesn&apos;t use this option)</span><br><span class="line"></span><br><span class="line">Examples:                                #例子</span><br><span class="line">        theharvester -d microsoft.com -l 500 -b google</span><br><span class="line">        theharvester -d microsoft.com -b pgp</span><br><span class="line">        theharvester -d microsoft -l 200 -b linkedin</span><br><span class="line">        theharvester -d apple.com -b googleCSE -l 500 -s 300</span><br></pre></td></tr></table></figure></p><p>示例:theHarvester -d sogou.com -l 500 -b baidu -f sogou.html<br><img src="/images/子域名收集/5.jpg" alt></p><h1 id="通过证书获取"><a href="#通过证书获取" class="headerlink" title="通过证书获取"></a>通过证书获取</h1><p><a href="https://www.censys.io/certificates?q=sogou.com" target="_blank" rel="noopener">https://www.censys.io/certificates?q=sogou.com</a><br><img src="/images/子域名收集/7.jpg" alt><br><img src="/images/子域名收集/8.jpg" alt><br><img src="/images/子域名收集/9.jpg" alt><br><a href="https://crt.sh/" target="_blank" rel="noopener">https://crt.sh/</a></p><p><img src="/images/子域名收集/6.jpg" alt><br>谷歌也提供了证书搜索的功能，不过需要翻墙，大家自行搜索吧。</p><h1 id="利用文件信息泄漏"><a href="#利用文件信息泄漏" class="headerlink" title="利用文件信息泄漏"></a>利用文件信息泄漏</h1><p>1 crossdomain.xml 文件<br><img src="/images/子域名收集/10.jpg" alt></p><h1 id="子域名枚举"><a href="#子域名枚举" class="headerlink" title="子域名枚举"></a>子域名枚举</h1><p>工具:subDomainsBrute  wydomain 当然还有windows上的Layer子域名挖掘机</p><h1 id="常用网站总结"><a href="#常用网站总结" class="headerlink" title="常用网站总结:"></a>常用网站总结:</h1><p><a href="http://whois.chinaz.com/" target="_blank" rel="noopener">http://whois.chinaz.com/</a>  站长之家的whois查询</p><p><a href="http://icp.chinaz.com/" target="_blank" rel="noopener">http://icp.chinaz.com/</a> 备案查询</p><p><a href="https://www.censys.io/" target="_blank" rel="noopener">https://www.censys.io/</a> 证书查询</p><p><a href="https://crt.sh/" target="_blank" rel="noopener">https://crt.sh/</a> 证书查询</p><p><a href="https://google.com/transparencyreport/https/ct/" target="_blank" rel="noopener">https://google.com/transparencyreport/https/ct/</a> 通过Google的证书查询</p><p><a href="https://developers.facebook.com/tools/ct/" target="_blank" rel="noopener">https://developers.facebook.com/tools/ct/</a>  证书查询</p><p><a href="https://hackertarget.com/find-dns-host-records/" target="_blank" rel="noopener">https://hackertarget.com/find-dns-host-records/</a>  挺不错的一个查询网站</p><h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>域名收集的方式千千万，别人写的开源工具也很多，但是用起来毕竟不是那么的顺手，所以大家完全可以自己开发，集大家之所长，开发属于自己的域名获取工具</p><p><img src="/images/子域名收集/11.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 信息收集 </tag>
            
            <tag> 渗透测试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 博客 Next主题配置字数统计，阅读时长</title>
      <link href="/2019/03/31/test/"/>
      <url>/2019/03/31/test/</url>
      
        <content type="html"><![CDATA[<h1 id="插件地址"><a href="#插件地址" class="headerlink" title="插件地址"></a>插件地址</h1><p>地址:<a href="https://github.com/theme-next/hexo-symbols-count-time" target="_blank" rel="noopener">hexo-symbols-count-time</a></p><h1 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h1><p>进入 hexo 博客根目录，使用以下命令安装<code>hexo-symbols-count-time</code>插件：</p><p><code>$ npm install hexo-symbols-count-time --save</code></p><h1 id="配置-config-yml-文件"><a href="#配置-config-yml-文件" class="headerlink" title="配置 _config.yml 文件"></a>配置 _config.yml 文件</h1><p>配置内容可以直接配置在 Hexo 的配置文件 <code>_config.yml</code> 中,在最底下加上如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">symbols_count_time:</span><br><span class="line">  symbols: true</span><br><span class="line">  time: true</span><br><span class="line">  total_symbols: true</span><br><span class="line">  total_time: true</span><br></pre></td></tr></table></figure></p><h1 id="配置Next主题下的-config-yml-文件"><a href="#配置Next主题下的-config-yml-文件" class="headerlink" title="配置Next主题下的_config.yml 文件"></a>配置Next主题下的_config.yml 文件</h1><p>此插件集成在«NexT»中，在主要Hexo配置中启用插件后，您可以调整NexT配置中的选项：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">symbols_count_time:</span><br><span class="line">  separated_meta: true</span><br><span class="line">  item_text_post: true</span><br><span class="line">  item_text_total: false</span><br><span class="line">  awl: 4</span><br><span class="line">  wpm: 275</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
